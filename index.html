<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">

    <title>LivePerson Conversational Query Accuracy Tester</title>
</head>
<body>

    <div class="content">
        <div class="left-margin"></div>
        <div class="center">
            <div class="header"><h1>LivePerson Conversational Query Accuracy Tester Tool</h1></div>
            <div class="setup-header">
                <div id="BTFormContainer" class="BTFormContainer">
                    <form id="BTForm" class="BTForm" onsubmit="return false;">
                     <label for="bearertoken">VoiceBase Account Bearer Token:</label><br>
                     <input type="password" id="bearertoken" name="bearertoken" value=""><br>
                     <input type="submit" value="Submit" onclick="validateBearerToken();">
                    </form> 
                    <div id="btvalidationresponse" class="btvalidationresponse"></div>
                </div>
                <div id="csvScoresFormContainer" class="csvScoresFormContainer">
                    <form id="csvScoresForm" class="csvScoresForm">
                        <label for="csvScores">CSV of Human Scores:</label><br>
                        <input type="file" id="csvScores" accept=".csv" name="csvScores" value=""><br>
                        <input type="submit" value="Submit">
                    </form>
                    <div><textarea name="" id="csvResult" cols="30" rows="7" readonly></textarea></div>
                </div>
                <div class="csvpreview">
                    <div>Total Human Scores: <span class="class="previewtotalscores previewscores"></span></div>
                    <div>Total Positive: <span class="class="previewtotalpositive previewscores"></span></div>
                    <div>Total Negative: <span class="class="previewtotalnegative previewscores"></span></div>
                </div>
            </div>
            <div class="main">
                <form id="QueryForm" onsubmit="return false;">
                    <label for="Query">Query:</label><br>
                    <input type="textarea" id="Query" name="Query" class="querytextarea" value=""><br>
                    <input type="submit" value="Submit" onclick="queryAPIRequest();">
                </form> 
            </div>
            <div id="results" class="results">
                <div><h4>This Query's Accuracy:</h4></div>
                <div>Accuracy: <span id="Accuracy" class="Accuracy"></span></div>
                <div>Total: <span id="Total" class="Total"></span></div>
                <div>True Positives: <span id="TP" class="TP"></span></div>
                <div>True Negatives: <span id="TN" class="TN"></span></div>
                <div>False Positivees: <span id="FP" class="FP"></span></div>
                <div>False Negatives: <span id="FN" class="FN"></span></div>
                <div>Qurey Log: <span id="querylog" class="querylog"></span></div>
                <div>MediaId0: <span id="mediaId0" class="mediaId0"></span></div>
                <div>AllHits: <span id="allhits" class="allhits"></span></div>
            </div>
            <div class="footer">
                <h4>Instructions</h4>
                    <h5>Step 1</h5>
                    <p>Provide a VoiceBase Bearer Token. This will allow the tool to use your VoiceBase account.</p>
                    <h5>Step 2</h5>
                    <p>Provide a spreadsheet that contains human score examples for the category you would like to build. The first column should contain VoiceBase mediaIds from the account of the Bearer Token you provided. The second column should contain the value 1 or 0. 1 indicates that the category should hit. 0 indicates that the category should not hit. A good mix of hits and non-hits is recommended so that you can check for both false positives and false negatives.</p>
                    <h5>Step 3</h5>
                    <p>Run a query. The Tester tool will run the query for you. It will compare the human scores you provided against the results of your query and provide you an accuracy evaluation.</p>
                    <h5>Step 4</h5>
                    <p>Generally, your goal is to make changes to your query and continue to resubmit until you get as close to 100% accuracy and 0 false positives as possible.</p>
                    <p>This tool could also be used to simply compare the accuracy of different queries.</p>
                    <p>Good luck!</p>
                    <br>
                    <p><a href="https://github.com/Bryon89/LivePerson-Conversational-Query-Accuracy-Tester">GitHub</a></p>
                    <p>For additional help, please contact Bryon Mathias or Matt Aquino at LivePerson.</p>
            </div>
        </div>
        <div class="right-margin"></div>
    </div>

    <script type="text/javascript" src="functions.js"></script>
    <script src="jquery.js"></script>
</body>
</html>
